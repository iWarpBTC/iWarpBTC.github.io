<!DOCTYPE html>
<html lang="cs">

<head>
  <meta charset="UTF-8">
  <title>Ãšvod do Lightning network</title>
  <meta property="og:title" content="Ãšvod do Lightning network">
  <link rel="shortcut icon" href="https://btc-slovnik.cz/favicon.png">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/tooltip.css">
  <meta name="description"
        content="PÅ™ibliÅ¾uje zÃ¡kladnÃ­ principy fungovÃ¡nÃ­ bitcoinovÃ© platebnÃ­ sÃ­tÄ› Lightning network.">
  <meta property="og:description" content="PÅ™ibliÅ¾uje zÃ¡kladnÃ­ principy fungovÃ¡nÃ­ bitcoinovÃ© platebnÃ­ sÃ­tÄ› Lightning network.">
  <meta name="keywords"
        content="bitcoin, lightning, network, layer2, druhÃ¡ vrstva, invoice, platebnÃ­ sÃ­Å¥, htlc, routing, base fee, fee rate">
  <link rel="canonical" href="https://btc-slovnik.cz/pages/lightning.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@btcslovnik" />
  <meta name="og:image" content="https://btc-slovnik.cz/img/LN.png" />
</head>

<body>
  <header>
    <div class="h1">
      <h1><a href="https://btc-slovnik.cz/#ln"><span class="bitcoin">BitcoinovÃ½</span> slovnÃ­k nauÄnÃ½</a></h1>
    </div>
  </header>
  <div class="container2">
    <article>
      <header>
        <h2 id="ln1">Ãšvod do Lightning network</h2>
        <p class="header"><time datetime="2021-11-23">AktualizovÃ¡no: 23. 11. 2021</time></p>
      </header>
      <p class="just">Lightning network je <a href="https://btc-slovnik.cz/#p2p"><span class="tooltip bottom animationTips blue" tool-tips="peer-to-peer">p2p</span></a> platebnÃ­ sÃ­Å¥ umoÅ¾ÅˆujÃ­cÃ­ teoreticky neomezenÃ© mnoÅ¾stvÃ­ velmi rychlÃ½ch bitcoinovÃ½ch plateb. JednÃ¡ se o druhou vrstvu (chcete-li nadstavbu) nad zÃ¡kladnÃ­, â€blockchainovouâ€œ, vrstvou <a href="https://btc-slovnik.cz/pages/transaction.html">bitcoinovÃ½ch transakcÃ­</a>. Aby byl Bitcoin skuteÄnÄ› decentralizovanou sÃ­tÃ­, je nezbytnÃ© udrÅ¾et blockchain relativnÄ› kompaktnÃ­ tak, aby si co nejvÃ­ce bÄ›Å¾nÃ½ch lidÃ­ mohlo dovolit provoz vlastnÃ­ho bitcoinovÃ©ho uzlu (full node). Proto je jeden blok omezen na 4 miliony vÃ¡hovÃ½ch jednotek. SamoregulaÄnÃ­ <a href="https://btc-slovnik.cz/pages/block.html#mining">mechanismus teÅ¾by</a> zajiÅ¡Å¥uje vytÄ›Å¾enÃ­ bloku (zapsÃ¡nÃ­ bloku do blockchainu) prÅ¯mÄ›rnÄ› jednou za deset minut. TÃ­m je vÅ¡ak omezen poÄet zapisovanÃ½ch transakcÃ­ do blockchainu asi na 10 za sekundu (v zÃ¡vislosti na typu a velikosti transakcÃ­). </p>
      <p class="just">Lightning network umoÅ¾nuje trustless (tzn. nevyÅ¾adujÃ­cÃ­ dÅ¯vÄ›ru v druhou Äi tÅ™etÃ­ stranu) provÃ¡dÄ›nÃ­ plateb bez nutnosti zapsÃ¡nÃ­ kaÅ¾dÃ© platby jako samostatnÃ© transakce do blockchainu zvlÃ¡Å¡Å¥. ZavÃ¡dÃ­ protokol, dÃ­ky kterÃ©mu dvÄ› strany (tvoÅ™Ã­cÃ­ platebnÃ­ kanÃ¡l) mohou mezi sebou provÃ¡dÄ›t platby (mÄ›nit ÃºÄetnÃ­ stav kanÃ¡lu), pÅ™iÄemÅ¾ <strong>obÄ› strany v kaÅ¾dÃ©m okamÅ¾iku drÅ¾Ã­ platnou a podepsanou bitcoinovou transakci</strong>, kterÃ¡ odrÃ¡Å¾Ã­ poslednÃ­ stav platebnÃ­ho kanÃ¡lu a mÅ¯Å¾e bÃ½t v pÅ™Ã­padÄ› potÅ™eby kdykoliv vyslÃ¡na do sÃ­tÄ›, ÄÃ­mÅ¾ dojde k vypoÅ™Ã¡dÃ¡nÃ­ (a uzavÅ™enÃ­) kanÃ¡lu na zÃ¡kladnÃ­ vrstvÄ›. V <a href="https://btc-slovnik.cz/pages/transaction.html#script">bitcoinovÃ©m skriptovacÃ­m jazyce</a> zapsanÃ½ tzv. chytrÃ½ kontrakt (smart contract) dÃ¡vÃ¡ obÄ›ma stranÃ¡m moÅ¾nost potrestat protistranu v pÅ™Ã­padÄ›, kdy by se pokusila vyslat do sÃ­tÄ› nÄ›kterou z pÅ™edeÅ¡lÃ½ch, jiÅ¾ â€odvolanÃ½châ€œ transakcÃ­, kterÃ¡ by neodrÃ¡Å¾ela poslednÃ­ stav kanÃ¡lu. </p>
      <p class="just">Aby nebylo nutnÃ© mÃ­t vlastnÃ­ platebnÃ­ kanÃ¡l s kaÅ¾dÃ½m potenciÃ¡lnÃ­m pÅ™Ã­jemcem naÅ¡Ã­ platby (stejnÄ›, jako nenÃ­ nutnÃ© mÃ­t vlastnÃ­ sÃ­Å¥ovÃ½ kabel ke kaÅ¾dÃ©mu webovÃ©mu serveru, jehoÅ¾ strÃ¡nky si chceme prohlÃ©dnout), je v Lightning network umoÅ¾nÄ›no â€smÄ›rovÃ¡nÃ­â€œ (chcete-li pÅ™eposÃ­lÃ¡nÃ­, routouvÃ¡nÃ­, forwardovÃ¡nÃ­, â€¦) plateb. NaÅ¡e platba mÅ¯Å¾e ke svÃ©mu pÅ™Ã­jemci prochÃ¡zet cizÃ­mi platebnÃ­mi kanÃ¡ly (opÄ›t bez nutnosti dÅ¯vÄ›ry v operÃ¡tory tÄ›chto kanÃ¡lÅ¯), dokonce mÅ¯Å¾e bÃ½t i rozdÄ›lena na nÄ›kolik menÅ¡Ã­ch ÄÃ¡stÃ­, kterÃ© projdou rÅ¯znÃ½mi cestami, pÅ™es rÅ¯znÃ© platebnÃ­ kanÃ¡ly. </p>
      <p class="just">Jakkoliv se jednÃ¡ o trustless Å™eÅ¡enÃ­, nic nÃ¡m nebrÃ¡nÃ­ tuto vlastnost v rÅ¯znÃ© mÃ­Å™e vymÄ›nit za vÃ­ce pohodlÃ­. MÅ¯Å¾eme se tak naprosto svÄ›Å™it do rukou napÅ™. provozovatelÅ¯ custodial â€penÄ›Å¾enkyâ€œ Bluewallet, kteÅ™Ã­ nÃ¡m umoÅ¾nÃ­ disponovat jejich bitcoiny a provÃ¡dÄ›t s nimi LN platby (v takovÃ©m pÅ™Ã­padÄ› bitcoiny skuteÄnÄ› nevlastnÃ­me, vlastnÃ­me pouze pohlÃ©dÃ¡vku vÅ¯Äi provozovateli penÄ›Å¾enky, podobnÄ› jako v pÅ™Ã­padÄ› bankovnÃ­ho fiat ÃºÄtu). MÅ¯Å¾eme zvolit i Å™eÅ¡enÃ­ â€na pÅ¯li cestyâ€œ, jako je napÅ™. penÄ›Å¾enka Phoenix. V takovÃ©m pÅ™Ã­padÄ› budeme mÃ­t na svÃ©m zaÅ™Ã­zenÃ­ â€odlehÄenÃ½â€œ LN uzel, kterÃ½ nÃ¡m umoÅ¾nÃ­ otevÃ­rat vlastnÃ­ platebnÃ­ kanÃ¡ly s plnÃ½m uzlem provozovatele Phoenixu (<a href="https://amboss.space/node/03864ef025fde8fb587d989186ce6a4a186895ee44a926bfc370e2c366597a3f8f">ACINQ</a>). ProstÅ™ednictvÃ­m takovÃ©ho kvalitnÄ› propojenÃ©ho uzlu mÅ¯Å¾eme pÅ™ijÃ­mat a odesÃ­lat platby prakticky do celÃ© sÃ­tÄ›. PÅ™estoÅ¾e jsme v tomto pÅ™Ã­padÄ›, co se funkÄnosti tÃ½Äe, plnÄ› zÃ¡vislÃ­ na provozovateli, zde jsme jiÅ¾ vlastnÃ­ky svÃ½ch bitcoinÅ¯. Kdykoliv mÅ¯Å¾eme provÃ©st koneÄnÃ© vypoÅ™Ã¡dÃ¡nÃ­ svÃ½ch bitcoinÅ¯ z platebnÃ­ho kanÃ¡lu na zÃ¡kladnÃ­ vstvu (zÃ¡pisem transakce do blockchainu). UltimÃ¡tnÃ­ Å™eÅ¡enÃ­ je pak provozovÃ¡nÃ­ vlastnÃ­ho bitcoinovÃ©ho a lightningovÃ©ho uzlu (lightningovÃ½ je na tom bitcoinovÃ©m zÃ¡vislÃ½). Nejen, Å¾e budeme vÃ½hradnÃ­mi vlastnÃ­ky naÅ¡ich bitcoinÅ¯, ale takÃ© nezÃ¡vislÃ½mi ÃºÄastnÃ­ky sÃ­tÄ›, kteÅ™Ã­ nemusÃ­ vÄ›Å™it a spolÃ©hat na nikoho, jen na vlastnÃ­ zaÅ™Ã­zenÃ­ a na nÄ›m bÄ›Å¾Ã­cÃ­ kÃ³d. </p>
      <p class="just">Existuje nÄ›kolik implementacÃ­ lightnigovÃ©ho uzlu (lnd, c-lightning, eclair, ...). TakÃ© existuje mnoho â€distribucÃ­â€œ, usnadÅˆujÃ­cÃ­ch pÅ™Ã­stup k celÃ©mu setu bitcoinovÃ©ho uzlu, lightnigovÃ©ho uzlu a dalÅ¡Ã­ch aplikacÃ­ umoÅ¾nujÃ­cÃ­ch snazÅ¡Ã­ sprÃ¡vu uzlu, Äi pÅ™Ã­jÃ­mÃ¡nÃ­ plateb: </p>
      <ul class="article">
        <li>VÃ½hradnÄ› pro x86-64 platformu:
          <ul>
            <li>cryptoanarchy-deb-repo-builder (<a href="https://github.com/debian-cryptoanarchy/cryptoanarchy-deb-repo-builder">Github</a>)</li>
          </ul> 
        </li>
      </ul>
      <ul class="article">
        <li>Mnohem rozÅ¡Ã­Å™enÄ›jÅ¡Ã­ jsou vÅ¡ak ARM distribuce, typicky pro zaÅ™Ã­zenÃ­ Raspberry Pi: 
          <ul>
            <li><a href="https://getumbrel.com/">Umbrel</a></li>
            <li><a href="https://raspiblitz.org/">RaspiBlitz</a></li>
            <li><a href="https://mynodebtc.com/">myNode</a></li>
          </ul>
        </li>
      </ul>
      <h3>OtevÅ™enÃ­ platebnÃ­ho kanÃ¡lu</h3>
      <p class="just">MÃ¡me-li svÅ¯j spuÅ¡tÄ›nÃ½ a synchronizovanÃ½ LN uzel, naÅ¡Ã­m druhÃ½m krokem bude nejspÃ­Å¡ (po zapsÃ¡nÃ­ si seedu a â€nabitÃ­â€œ penÄ›Å¾enky on-chain transakcÃ­) otevÅ™enÃ­ platebnÃ­ho kanÃ¡lu. K tomu budeme potÅ™ebovat platebnÃ­ protistranu, jinÃ½ LN uzel. Uzel je jednoznaÄnÄ› identifikovÃ¡n svÃ½m nemÄ›nnÃ½m veÅ™ejnÃ½m klÃ­Äem a IP, resp. TOR adresou, ve formÃ¡tu klÃ­Ä@adresa:port. Uzel mÅ¯Å¾e bÃ½t oznaÄen i libovolnÃ½m aliasem, ten vÅ¡ak mÅ¯Å¾e bÃ½t kdykoliv mÄ›nÄ›n a takÃ© bÃ½t shodnÃ½ pro vÃ­ce uzlÅ¯, proto je prÃ¡vÄ› tÅ™eba pÅ™i otevÃ­rÃ¡nÃ­ kanÃ¡lu zÃ¡hodno alespoÅˆ zbÄ›Å¾nÄ› kontrolovat veÅ™ejnÃ½ klÃ­Ä. PÅ™ed samotnÃ½m otevÅ™enÃ­m kanÃ¡lu je nutnÃ© s protistranou navÃ¡zat pÅ™Ã­mÃ© spojenÃ­ (direct peer). Toto pÅ™Ã­mÃ© spojenÃ­ je pak udrÅ¾ovÃ¡no ideÃ¡lnÄ› po celou dobu trvÃ¡nÃ­ platebnÃ­ho kanÃ¡lu, neboÅ¥ v pÅ™Ã­padÄ› jeho pÅ™eruÅ¡enÃ­ nenÃ­ moÅ¾nÃ© pÅ™ijÃ­mat, ani odesÃ­lat platby. NynÃ­ mÅ¯Å¾e kterÃ¡koliv ze stran navhrnout protistranÄ› <a href="https://github.com/lightningnetwork/lightning-rfc/blob/master/02-peer-protocol.md#the-open_channel-message">otevÅ™enÃ­ novÃ©ho</a> kanÃ¡lu a jeho parametry, z nichÅ¾ nejdÅ¯leÅ¾itÄ›jÅ¡Ã­ je kapacita kanÃ¡lu. Ta urÄuje maximÃ¡lnÃ­ objem platby, kterÃ¡ mÅ¯Å¾e kanÃ¡lem najednou projÃ­t. StejnÃ¡ ÄÃ¡stka bude i vÃ½stupem tzv. otevÃ­racÃ­ transakce, ve kterÃ© navrhovatel uzamkne bitcoiny ve prospÄ›ch multisig adresy 2 ze 2, tedy vznikne takovÃ½ vÃ½stup, kterÃ½ bude moÅ¾nÃ© utratit pouze s podpisem obou stran kanÃ¡lu. Financovat novÄ› otevÃ­ranÃ½ kanÃ¡l lze prozatÃ­m pouze jednostranÄ›, podaÅ™Ã­-li se ho otevÅ™Ã­t, bude tak celÃ¡ jeho kapacita na stranÄ› navrhovatele. Ten ji bude moci odeslat, ale nebude schopen v ÃºvodnÃ­m stavu tÃ­mto kanÃ¡lem platbu pÅ™ijmout &ndash; na druhÃ© stranÄ› v Ãºvodu nebude Å¾Ã¡dnÃ¡ likvidita. </p> 
      <p class="just">Pokud protistrana <a href="https://github.com/lightningnetwork/lightning-rfc/blob/master/02-peer-protocol.md#the-accept_channel-message">souhlasÃ­</a> s parametry navrhovanÃ©ho kanÃ¡lu, odeÅ¡le navrhovateli odpovÄ›Ä, na zÃ¡kladÄ› kterÃ© bude schopen sestavit dvÄ› transakce. Jednak jiÅ¾ popsanou otevÃ­rajÃ­cÃ­, kterou vÅ¡ak zatÃ­m nesmÃ­ vyslat do sÃ­tÄ›. Jednak Å™eknÄ›me Ãºnikovou transakci, nebo takÃ© zÃ¡vazek (commitment) â€“ tedy transakci, kterÃ¡ v pÅ™Ã­padÄ› problÃ©mÅ¯ odemkne vÃ½stup otevÃ­rÃ¡cÃ­ transakce a utratÃ­ jej dle poslednÃ­ho stavu kanÃ¡lu (ke kterÃ©mu se strany v unikovÃ© transakci zavazujÃ­). V pÅ™Ã­padÄ› ÃºvodnÃ­ho stavu po otevÅ™enÃ­, kdy jeÅ¡tÄ› neprobÄ›hla Å¾Ã¡dnÃ¡ platba, posÃ­lÃ¡ ÃºnikovÃ¡ transakce vÅ¡e zpÄ›t navrhovateli. KdyÅ¾ navrhovatel kanÃ¡lÅ¯ oznÃ¡mÃ­ protistranÄ› hash tÃ©to transakce a oznaÄÃ­ index inkriminovanÃ©ho vÃ½stupu otevÃ­racÃ­ transakce, mÅ¯Å¾e protistrana poskytnou svÅ¯j podpis ÃºnikovÃ© transakce. NynÃ­ se navrhovatel nemusÃ­ bÃ¡t zveÅ™ejnit otevÃ­racÃ­ transakci a poÄkat na jejÃ­ zatÄ›Å¾enÃ­ (resp. dosaÅ¾enÃ­ poÅ¾adovanÃ© hloubky zatÄ›Å¾enÃ­, zejmÃ©na v pÅ™Ã­padÄ› vÄ›tÅ¡Ã­ch kapacit kanÃ¡lu). I kdyby protistrana v tomto okamÅ¾iku zmizela se svÄ›ta, navrhovatel drÅ¾Ã­ podepsanou Ãºnikovou transakci, kterou mÅ¯Å¾e zveÅ™ejnit a po uplynutÃ­ smluvenÃ© ÄekacÃ­ doby (to_self_delay) zÃ­skÃ¡ zpÄ›t svÅ¯j vklad uzamÄenÃ½ otevÃ­racÃ­ transakcÃ­. </p>
      <div class="fig">
        <figure>
          <a class="figimg" href="https://btc-slovnik.cz/img/ln_open.svg"><img src="https://btc-slovnik.cz/img/ln_open.svg" alt="otevÅ™enÃ­ kanÃ¡lu"></a>
          <figcaption>Alice sestavila otevÃ­racÃ­ a Ãºnikovou transakci. Tu Ãºnikovou si musÃ­ nechat podepsat od Boba jeÅ¡tÄ› pÅ™ed zveÅ™ejnÄ›nÃ­m tÃ© otevÃ­racÃ­.</figcaption>
        </figure>
      </div>
      <h3>Aktualizace platebnÃ­ho kanÃ¡lu</h3>
      <p class="just">MÃ¡-li dojÃ­t ke zmÄ›nÄ› stavu platebnÃ­ho kanÃ¡lu, aÅ¥ uÅ¾ jedna strana platila pÅ™Ã­mo druhÃ©, nebo svÃ½m kanÃ¡lem pÅ™enesli platbu jinÃ©ho ÃºÄastnÃ­ka LN, musÃ­ si strany spoleÄnÄ› s tÃ­m navzÃ¡jem podepsat novÃ© ÃºnikovÃ© transakce, zohledÅˆujÃ­cÃ­ novÃ½ ÃºÄetnÃ­ stav. ZÃ¡roveÅˆ dochÃ¡zÃ­ k jakÃ©musi odvolÃ¡nÃ­ pÅ™edchozÃ­ iterace ÃºnikovÃ½ch transakcÃ­. PrÃ¡vÄ› k zajiÅ¡tÄ›nÃ­ tÃ©to â€odvolatelnostiâ€œ drÅ¾Ã­ kaÅ¾dÃ¡ se stran vlastnÃ­ &ndash; asymetrickou &ndash; verzi ÃºnikovÃ© transakce. Pokud byste teÄ chtÄ›li namÃ­tnout, Å¾e podepsanÃ¡ a platnÃ¡ bitcoinovÃ¡ transakce je pÅ™eci neodvolatelnÃ¡, a to dokonce uÅ¾ pÅ™ed svÃ½m zapsÃ¡nÃ­m do blockchainu, tak mÃ¡te standardnÄ› pravdu. Ne vÅ¡ak u ÃºnikovÃ© LN transakce. KaÅ¾dÃ¡ se stran drÅ¾Ã­ takovou Ãºnikovou transakci, kterÃ¡ odemkne 2 ze 2 vÃ½stup otevÃ­racÃ­ transakce a vytvoÅ™Ã­ dva (nevypoÅ™Ã¡danÃ© <span class="tooltip bottom animationTips blue" tool-tips="hashed time locked contract">HTLC</span> nynÃ­ zanedbejme) novÃ© vÃ½stupy â€“ ve prospÄ›ch protistrany bez dalÅ¡Ã­ho uzamkne jejÃ­ ÄÃ¡st zÅ¯statku kanÃ¡lu (ta mÅ¯Å¾e takovÃ½ vÃ½stup ihned dÃ¡le utratit), vÃ½stup ve prospÄ›ch drÅ¾itele je vÅ¡ak uzamÄen skriptem. Ten lze okamÅ¾itÄ› utratit tzv. revokaÄnÃ­m klÃ­Äem nebo aÅ¾ po uplynutÃ­ ÄekacÃ­ doby &ndash; urÄenÃ©ho poÄtu blokÅ¯ (od zatÄ›Å¾enÃ­; na tomto poÄtu se strany dohodly pÅ™i otevÅ™enÃ­ kanÃ¡lu) vlastnÃ­m klÃ­Äem drÅ¾itele. PrÃ¡vÄ› tyto revokaÄnÃ­ klÃ­Äe, resp. tajemstvÃ­ nutnÃ© k jejich <a href="https://github.com/lightningnetwork/lightning-rfc/blob/master/03-transactions.md#revocationpubkey-derivation">vÃ½robÄ›</a>, si strany vymÄ›ÅˆujÃ­ pÅ™i podepisovÃ¡nÃ­ novÃ½ch ÃºnikovÃ½ch transakcÃ­, ÄÃ­mÅ¾ tedy prakticky dochÃ¡zÃ­ k odvolÃ¡nÃ­ pÅ™edchozÃ­ iterace ÃºnikovÃ½ch transakcÃ­. Zde je nutnÃ© si uvÄ›domit, Å¾e kaÅ¾dÃ¡ ze stran drÅ¾Ã­ privÃ¡tnÃ­ revokaÄnÃ­ klÃ­Ä protistrany, svÅ¯j vlastnÃ­ znÃ¡ pouze veÅ™ejnÃ½, kterÃ½ vyrÃ¡bÃ­ tzv. naslepo. TÄ›mito revokaÄnÃ­mi klÃ­Äi lze tedy odemykat vÃ½stup(y) odvolanÃ© ÃºnikovÃ© transakce protistrany, nikoliv svÃ© vlastnÃ­. </p>
      <p class="just">Pokud by se napÅ™. navrhovatel kanÃ¡lu pokusil po 2 platbÃ¡ch protistranu podvÃ©st a zveÅ™ejnil by prvnÃ­ verzi ÃºnikovÃ© transakce, kterÃ¡ vyplÃ¡cÃ­ celou kapacitu kanÃ¡lu zpÄ›t navrhovateli, hrozÃ­, Å¾e ho protistrana potrestÃ¡, a pÅ™ed uplynutÃ­m ÄekacÃ­ doby &ndash; urÄenÃ© poÄtem blokÅ¯ &ndash; si odemkne vÃ½stup tÃ©to starÃ© ÃºnikovÃ© transakce revokaÄnÃ­m klÃ­Äem, kterÃ½ si vyrobila na zÃ¡kladÄ› tajemstvÃ­ obdrÅ¾enÃ©m pÅ™i prvnÃ­ platbÄ› (zmÄ›nÄ› stavu kanÃ¡lu). I pokud by podvodnÃ­k dovedl zajistit, Å¾e protistrana bude v dobÄ› podvodu odpojena od sÃ­tÄ›, mohla protistrana jiÅ¾ hotovou â€trestnouâ€œ transakci (resp. body nutnÃ© k jejÃ­ vÃ½robÄ› a podpisu) poskytnout jinÃ½m uzlÅ¯m (tÄ›m, kterÃ© se vÃ½hradnÄ› odhalovÃ¡nÃ­m podvodÅ¯ zabÃ½vajÃ­, se Å™Ã­kÃ¡ watchtowers), kterÃ© ji zveÅ™ejnÃ­ mÃ­sto nÄ›j, pokud v blockchainu uvidÃ­ odvolanou Ãºnikovou transakci. </p>
      <div class="fig">
        <figure>
          <a class="figimg" href="https://btc-slovnik.cz/img/ln_commits.svg"><img src="https://btc-slovnik.cz/img/ln_commits.svg" alt="aktualizace ÃºnikÅ¯ 1"></a>
          <figcaption>Alice poslala Bobovi 200 000 satÅ¯. ÃšÄetnÃ­ stav kanÃ¡lÅ¯ se odrÃ¡Å¾Ã­ takÃ© v novÃ½ch ÃºnikovÃ½ch transakcÃ­ch. Bob mÃ¡ navÃ­c revokaÄnÃ­ klÃ­Ä k AlicinÄ› pÅ™edchozÃ­ ÃºnikovÃ© transakci.</figcaption>
        </figure>
      </div>
      <div class="fig">
        <figure>
          <a class="figimg" href="https://btc-slovnik.cz/img/ln_commits2.svg"><img src="https://btc-slovnik.cz/img/ln_commits2.svg" alt="aktualizace ÃºnikÅ¯ 2"></a>
          <figcaption>Alice poslala Bobovi dalÅ¡Ã­ch 500 000 satÅ¯. OpÄ›t si podepsali novÃ© ÃºnikovÃ© transakce a vymÄ›nili revokaÄnÃ­ klÃ­Äe k tÄ›m pÅ™edeÅ¡lÃ½m.</figcaption>
        </figure>
      </div>
      <div class="fig">
        <figure>
          <a class="figimg" href="https://btc-slovnik.cz/img/ln_penalty.svg"><img src="https://btc-slovnik.cz/img/ln_penalty.svg" alt="pokus od podvod"></a>
          <figcaption>ZlÃ¡ Alice se pokusila o podvod. Nechala si zatÄ›Å¾it Ãºnikovou transakci, kterÃ¡ nezachycuje poslednÃ­ platbu 500 000 satÅ¯. BobÅ¯v uzel detekoval odvolanou Ãºnikovou transakci v blockchainu a okamÅ¾itÄ› vyslal trestnou transakci. Alice za trest pÅ™iÅ¡la i o svÃ½ch 1 096 000 satÅ¯ dÅ™Ã­v, neÅ¾ vyprÅ¡el ÄasovÃ½ limit 432 blokÅ¯. To se krutÄ› nevyplatilo. </figcaption>
        </figure>
      </div>
      <h3>UzavÅ™enÃ­ platebnÃ­ho kanÃ¡lu</h3>
      <p class="just">Tohle je nejjednoduÅ¡Å¡Ã­. UzavÅ™enÃ­ probÄ›hne buÄ zveÅ™ejnÄ›nÃ­m a zatÄ›Å¾enÃ­m popsanÃ© ÃºnikovÃ© transakce. Nebo se uzly ideÃ¡lnÄ› dohodnou na aktuÃ¡lnÃ­m stavu a podepÃ­Å¡ou si prostou uzavÃ­racÃ­ transakci, kterÃ¡ bez dalÅ¡Ã­ch podmÃ­nek rozdÄ›lÃ­ vÃ½stup otevÃ­racÃ­ transakce obÄ›ma stranÃ¡m. TakovÃ© uzavÅ™enÃ­ je vÃ½hodnÄ›jÅ¡Ã­ i z pohledu poplatkÅ¯, kterÃ½ si strany mohou stanovit podle aktuÃ¡lnÃ­ho stavu mempoolu narozdÃ­l od ÃºnikovÃ© transakce, kterÃ¡ jiÅ¾ po svÃ©m podpisu nemÅ¯Å¾e pÅ™izpÅ¯sobit poplatek stavu mempoolu v dobÄ› svÃ©ho zveÅ™ejnÄ›nÃ­ a tak bÃ½vÃ¡ pro jistotu pÅ™edraÅ¾enÃ¡. </p>
      <h3 id="forward">PÅ™eposÃ­lÃ¡nÃ­ plateb</h3>
      <p class="just">PÅ™edstavme si, Å¾e provozujete vlastnÃ­ uzel A a chcete zaplatit uzlu D, se kterÃ½m ale nemÃ¡te pÅ™Ã­mÃ½ kanÃ¡l. MÃ¡te vÅ¡ak kanÃ¡l s uzlem B, kterÃ½ mÃ¡ kanÃ¡l s uzlem C a ten mÃ¡ kanÃ¡l k uzlu D. Jak ale zajistit, aby uzly B a C mÄ›ly incentivu vaÅ¡i platbu pÅ™eposlat a zÃ¡roveÅˆ ji nemohly defraudovat? V LN je incentivizace pÅ™eposÃ­lat cizÃ­ platbu Å™eÅ¡ena moÅ¾nostÃ­ stanovit si poplatek za pouÅ¾itÃ­ kanÃ¡lu. </p>
      <p class="just">ZatÃ­mco pÅ™i onchain transakci stanovuje poplatek odesÃ­lal, kterÃ½ nÃ¡slednÄ› ÄekÃ¡, aÅ¾ jeho transakce zaujme tÄ›Å¾aÅ™e, kterÃ½ ji zatÄ›Å¾Ã­, v LN poplatek stanovuje operÃ¡tor uzlu pro kaÅ¾dÃ½ svÅ¯j kanÃ¡l a nÃ¡slednÄ› ÄekÃ¡, aÅ¾ jeho kanÃ¡l nÄ›kdo vyuÅ¾ije. NavÃ­c je poplatek v LN dvojsloÅ¾kovÃ½ &ndash; sklÃ¡dÃ¡ se z tzv. base fee a fee rate. Base fee 2000 msats znamenÃ¡, Å¾e za kaÅ¾dÃ© pÅ™esmÄ›rovÃ¡nÃ­ platby si operÃ¡tor uzlu Å¾Ã¡dÃ¡ 2 satoshi. Ano, nejmenÅ¡Ã­ jednotkou LN je msat &ndash; millisatoshi, tedy tisÃ­cina satoshi. PÅ™i sestavovÃ¡nÃ­ onchain transakcÃ­ pak dochÃ¡zÃ­ k zaokrouhlovÃ¡nÃ­ na celÃ© satoshi. Fee rate 50&nbsp;ppm znamenÃ¡, Å¾e je za kaÅ¾dÃ½ pÅ™esmÄ›rovanÃ½ milion satoshi poÅ¾adovÃ¡no dalÅ¡Ã­ch 50 satÅ¯ (50000&nbsp;msats). Pro pÅ™esmÄ›rovÃ¡nÃ­ 300&nbsp;000 satÅ¯ by tedy celkovÃ½ poplatek Äinil 2000&nbsp;+&nbsp;(0,3&nbsp;&times;&nbsp;50000)&nbsp;&equals;&nbsp;17000, tj. 17&nbsp;satÅ¯. </p>
      <h3 id="htlc"><b>H</b>ashed <b>T</b>ime <b>L</b>ock <b>C</b>ontract</h3>
      <p class="just">PÅ™ed defraudacÃ­ naÅ¡Ã­ platby pÅ™i pÅ™esmÄ›rovÃ¡nÃ­ pÅ™es cizÃ­ uzly nÃ¡s pak chrÃ¡nÃ­ HTLC. To je zkratka pro <em>hashed time lock contract</em>. ÄŒesky by to mohl bÃ½t hashovÃ½ kontrakt s ÄasovÃ½m zÃ¡mkem. Zopakujme, Å¾e LN je trustless koncept &ndash; nenÃ­ zaloÅ¾ena na dÅ¯vÄ›Å™e, naopak stojÃ­ na nedÅ¯vÄ›Å™e. V systÃ©mu zaloÅ¾enÃ©m na dÅ¯vÄ›Å™e by mÃ­sto HTLC bylo nÄ›co jako jistotnÃ­ ÃºÄet, nebo notÃ¡Å™skÃ¡ Ãºschova, anglicky escrow, kde dÅ¯vÄ›ryhodnÃ¡ tÅ™etÃ­ strana vyplatÃ­ druhÃ© stranÄ› prostÅ™edky, pokud v ÄasovÃ©m limitu splnÃ­ zadanou podmÃ­nku, jinak vrÃ¡tÃ­ prostÅ™edky zpÄ›t prvnÃ­ stranÄ›. V LN je vÅ¡ak dÅ¯vÄ›ra ve tÅ™etÃ­ stranu nahrazena chytrÃ½m kontraktem zapsanÃ½m v jazyce <a href="https://btc-slovnik.cz/#script">Script</a>. Ten by v bÄ›Å¾nÃ© Å™eci mohl bÃ½t vyjÃ¡dÅ™en napÅ™. takto <em>â€zÃ­skÃ¡Å¡ 300&nbsp;021 satÅ¯, kdyÅ¾ pÅ™ed uplynutÃ­m 120 blokÅ¯ zÃ­skÃ¡Å¡ a odhalÃ­Å¡ platebnÃ­ pÅ™edobraz, tj. takovÃ½ vstup funkce SHA256, kterÃ½ vygeneruje hash H&nbsp;&equals;&nbsp;6c672...59â€œ.</em> Po marnÃ©m uplynutÃ­ stanovenÃ©ho poÄtu blokÅ¯ se prostÅ™edky navracÃ­ odesÃ­lateli. Jak jiÅ¾ vÃ­me, hashovÃ¡nÃ­ je jednosmÄ›rnÃ¡ funkce. Snadno spoÄÃ­tÃ¡me hash libovolnÃ©ho vstupu, je vÅ¡ak prakticky nemoÅ¾nÃ© z hashe zjistit, jakÃ½ byl vstup (pÅ™edobraz). Pokud tedy koneÄnÃ½ pÅ™Ã­jemce platby vygeneruje nÄ›jakÃ© nÃ¡hodnÃ© (256bitovÃ©) ÄÃ­slo, spoÄte jeho hash, kterÃ½ pÅ™edÃ¡ prostÅ™ednictvÃ­m invoice odesÃ­lateli platby jako <em>platebnÃ­ hash</em>, mÅ¯Å¾e odesÃ­latel zajistit pÅ™esmÄ›rovÃ¡nÃ­ platby pÅ™es cizÃ­ uzly za pouÅ¾Ã­tÃ­ HTLC. NabÃ­dne uzlu B HTLC â€kdyÅ¾ do 120 blokÅ¯ odhalÃ­Å¡ pÅ™edobraz pro tento platebnÃ­ hash H, zÃ­skÃ¡Å¡ nÃ¡rok na 300&nbsp;021 satÅ¯â€œ. Pokud B HTLC pÅ™ijme, pÅ™idajÃ­ si ho obÄ› strany jako dalÅ¡Ã­ vÃ½stup do svÃ½ch ÃºnikovÃ½ch (commitment) transkacÃ­, kterÃ© si i podepÃ­Å¡Ã­. Aby B zÃ­skal pÅ™edobraz, musÃ­ nynÃ­ nabÃ­dnou podobnÃ© HTLC uzlu i C (o tom, jak vÃ­, Å¾e zrovna C, si snad povÃ­me vÃ­ce v pojednÃ¡nÃ­ o samotnÃ©m trasovÃ¡nÃ­ a routovÃ¡nÃ­) &ndash; â€kdyÅ¾ do 80 blokÅ¯ odhalÃ­Å¡ pÅ™edobraz pro tento platebnÃ­ hash H, zÃ­skÃ¡Å¡ nÃ¡rok na 300&nbsp;017 satÅ¯â€œ. A koneÄnÄ› C nabÃ­dne HTLC uzlu D &ndash; â€kdyÅ¾ do 40 blokÅ¯ odhalÃ­Å¡ pÅ™edobraz pro tento platebnÃ­ hash H, zÃ­skÃ¡Å¡ nÃ¡rok na 300&nbsp;000 satÅ¯â€œ. PozornÃ½ ÄtenÃ¡Å™ si vÅ¡iml, Å¾e se jednak zkracuje dÃ©lka ÄasovÃ©ho zÃ¡mku (vyjÃ¡dÅ™enÃ¡ v blocÃ­ch) a jednak se sniÅ¾uje i ÄÃ¡stka; jen platebnÃ­ hash zÅ¯stÃ¡vÃ¡ ve vÅ¡ech tÅ™ech pÅ™Ã­padech shodnÃ½. 4, resp. 17&nbsp;satÅ¯ tvoÅ™Ã­cÃ­ rozdÃ­l mezi ÄÃ¡stkami je poplatek nÃ¡leÅ¾Ã­cÃ­ uzlu B, resp. C. ZkrÃ¡covÃ¡nÃ­ ÄasovÃ©ho zÃ¡mku je pak nutnÃ© proto, aby mÄ›l napÅ™. B dostatek Äasu vypoÅ™Ã¡dat svÃ© HTLC i v pÅ™Ã­padÄ›, Å¾e mu C odhalÃ­ pÅ™edobraz platebnÃ­ho hashe aÅ¾ na poslednÃ­ chvÃ­li. JedinÃ½, kdo doposud znÃ¡ pÅ™edobraz platebnÃ­ho hashe je D &ndash; to on ho nÃ¡hodnÄ› vygeneroval a pak spoÄetl jeho hash, kterÃ½ v invoice spojil s poÅ¾adovanou ÄÃ¡stkou 300&nbsp;000 satÅ¯. KdyÅ¾ mÃ¡ nynÃ­ s C uzavÅ™enÃ½ HTLC na tuto ÄÃ¡stku a poÅ¾adujÃ­cÃ­ pÅ™edobraz tohoto hashe, staÄÃ­, aby odhalil uzlu C onen pÅ™edobraz o poÅ¾Ã¡dal o vypoÅ™Ã¡dÃ¡nÃ­ HTLC. To probÄ›hne standardnÄ› tak, jak je popsÃ¡no v odstavci Aktualizace platebnÃ­ho kanÃ¡lu &ndash; C ovÄ›Å™Ã­, Å¾e pÅ™eobraz skuteÄnÄ› generuje platebnÃ­ hash, pak si strany aktualizujÃ­ svÃ© ÃºnikovÃ© transakce &ndash; odstranÃ­ z nich vypoÅ™Ã¡davanÃ© HTLC a zaznamenajÃ­ novÃ½ ÃºÄetnÃ­ stav kanÃ¡lu. Pokud by C pÅ™estal pÅ™ed, Äi bÄ›hem vypoÅ™Ã¡dÃ¡nÃ­m odpovÃ­dat, musÃ­ D dokonÄit vypoÅ™Ã¡dÃ¡nÃ­ HTLC pÅ™ed uplynutÃ­m stanovenÃ©ho poÄtu blokÅ¯ onchain zveÅ™ejnÄ›nÃ­m ÃºnikovÃ© transakce obsahujÃ­cÃ­ tento HTLC, kterÃ½ si nÃ¡slednÄ› i odemkne, protoÅ¾e znÃ¡ pÅ™edobraz platebnÃ­ho hashe. ÃšplnÄ› stejnÃ½m zpÅ¯sobem nÃ¡slednÄ› probÄ›hne vypoÅ™Ã¡dÃ¡nÃ­ i mezi C a B, a koneÄnÄ› i mezi B a A. DÃ­ky zÃ­skanÃ©mu pÅ™edobrazu platebnÃ­ho hashe si A mÅ¯Å¾e bÃ½t jist, Å¾e jeho platba dorazila v poÅ™Ã¡dku aÅ¾ k D. AÄkoliv to nenÃ­ nezbytnÃ©, pouÅ¾Ã­vÃ¡ se z dÅ¯vodu zachovÃ¡nÃ­ jednolitosti HTLC i v pÅ™Ã­padÄ› pÅ™Ã­mÃ© platby mezi uzly bez prostÅ™ednÃ­kÅ¯. </p>
      <div class="fig">
        <figure>
          <a class="figimg" href="https://btc-slovnik.cz/img/route1.svg"><img src="https://btc-slovnik.cz/img/route1.svg" alt="poÄÃ¡teÄnÃ­ stav"></a>
          <figcaption>Takto vypadÃ¡ naÅ¡e fiktivnÃ­ LN sÃ­Å¥ na poÄÃ¡tku. VidÃ­me veÅ™ejnÃ© kanÃ¡ly mezi uzly i na nich nastavenÃ© poplatky. Jen aktuÃ¡lnÃ­ stav by nÃ¡m byl ve skuteÄnosti skryt. </figcaption>
        </figure>
      </div>
      <div class="fig">
        <figure>
          <a class="figimg" href="https://btc-slovnik.cz/img/route2.svg"><img src="https://btc-slovnik.cz/img/route2.svg" alt="mezistav"></a>
          <figcaption>A potÅ™ebuje zaplatit D. D vygeneroval nÃ¡hodnÃ½ pÅ™edobraz a jeho hash poskytl uzlu A v invoice. NÃ¡slednÄ› se tento platebnÃ­ hash dostÃ¡vÃ¡ zpÃ¡tky k D prostÅ™ednictvÃ­m HTLC uzavÅ™enÃ½ch mezi jednotlivÃ½mi uzly. </figcaption>
        </figure>
      </div>
      <div class="fig">
        <figure>
          <a class="figimg" href="https://btc-slovnik.cz/img/route3.svg"><img src="https://btc-slovnik.cz/img/route3.svg" alt="kone stav"></a>
          <figcaption>OpaÄnou cestou nynÃ­ putuje pÅ™edobraz hashe. PÅ™i tom jsou vypoÅ™Ã¡dÃ¡vÃ¡ny jednotlivÃ© HTLC a mÄ›nÃ­ se ÃºÄetnÃ­ stav kanÃ¡lÅ¯. </figcaption>
        </figure>
      </div>
      <h3 id="invoice">KrÃ¡tce o payment invoice</h3>
      <p class="just">A prÃ¡vÄ› platebnÃ­ hash &ndash; zÃ¡klad HTLC &ndash; je dÅ¯vod, proÄ je v LN zpravidla nutnÃ© pro kaÅ¾dou jednotlivou platbu generovat novou invoice. To je <a href="https://github.com/lightningnetwork/lightning-rfc/blob/master/11-payment-encoding.md">datovÃ¡ struktura</a> zakÃ³dovanÃ¡ &ndash; podobnÄ› jako onchain adresa &ndash; v bech32 s prefixem <em>lnbc</em> a lidsky Äitelnou ÄÃ¡stkou. UvnitÅ™ se pak kromÄ› platbnÃ­ho hashe vyskytuje typicky opÄ›t ÄÃ¡stka, hlavnÃ­ veÅ™ejnÃ½ klÃ­Ä pÅ™ijÃ­majÃ­cÃ­ho uzlu, Äas vystavenÃ­, Äas expirace, popisek, payment secret (neplÃ©st s pÅ™edobrazem pro platebnÃ­ hash!), Äi feature bits (indikujÃ­cÃ­ napÅ™. moÅ¾nost rozdÄ›lit platbu na nÄ›kolik ÄÃ¡stÃ­). Zpravidla nechybÃ­ ani kryptografickÃ½ podpis hlavnÃ­m soukromÃ½m klÃ­Äem. Invoice mÅ¯Å¾e takÃ© obsahovat informace o neveÅ™ejnÃ½ch kanÃ¡lech, kterÃ½mi by mohla bÃ½t platba routovÃ¡na. </p>
      <h3 id="onion">Drby, trasovÃ¡nÃ­ a cibulovÃ© routovÃ¡nÃ­</h3>
      <p class="just">V Lightning network funguje nÄ›co, Äemu se Å™Ã­kÃ¡ <a href="https://en.wikipedia.org/wiki/Gossip_protocol">gossip protokol</a>. Uzly do sÃ­tÄ› Å¡Ã­Å™Ã­ &bdquo;drby&ldquo; o sobÄ› a svÃ½ch kanÃ¡lech a zÃ¡roveÅˆ poslouchajÃ­ (a dÃ¡l pÅ™eposÃ­lajÃ­) drby o ostatnÃ­ch uzlech a jejich kanÃ¡lech. Na zÃ¡kladÄ› tÄ›chto zprÃ¡v si pak sestavujÃ­ <a href="https://cs.wikipedia.org/wiki/Graf_(teorie_graf%C5%AF)">graf</a> sÃ­tÄ›. DÃ­ky nÄ›mu je pak platÃ­cÃ­ uzel schopen naplÃ¡novat trasu (nebo i vÃ­ce moÅ¾nÃ½ch variant tras) pro svojÃ­ platbu. Takto sestavil trasu platby uzel A k uzlu D pÅ™es uzel B a C ve vÃ½Å¡e uÅ¾itÃ©m pÅ™Ã­kladu, pÅ™estoÅ¾e si nemohl bÃ½t jist, jestli tato trasa bude ÃºspÄ›Å¡nÃ¡, jelikoÅ¾ neznal ÃºÄetnÃ­ stav jednotlivÃ½ch kanÃ¡lÅ¯. Pokud by napÅ™. byla mezi uzly C a D veÅ¡kerÃ¡ likvidita na stranÄ› D, nebyla by platba ÃºspÄ›Å¡nÃ¡ a bylo by nutnÃ© zkusit jinou trasu. </p>
      <p class="just">Ke slovu nynÃ­ pÅ™ichÃ¡zÃ­ nÄ›co, Äemu se Å™Ã­kÃ¡ onion routing. Cibule mÃ¡ vrstvy a stejnÄ› tak i paket s lightning platbou mÃ¡ vrstvy. S kaÅ¾dou pÅ™idanou vrstvou dochÃ¡zÃ­ k zaÅ¡ifrovÃ¡nÃ­ celÃ©ho paketu tak, aby jen dalÅ¡Ã­ uzel v poÅ™adÃ­ mohl &bdquo;sloupnout&ldquo; a rozÅ¡ifrovat pouze svojÃ­ nejsvrchnÄ›jÅ¡Ã­ vrstvu. Z tÃ© se dozvÃ­ typicky pouze id nÃ¡sledujÃ­cÃ­ho kanÃ¡lu, ÄÃ¡stku a ÄÃ­slo bloku, pÅ™i kterÃ©m dojde k vyprÅ¡enÃ­ ÄasovÃ©ho zÃ¡mku HTLC kontraktu, kterÃ½ mÃ¡ uzavÅ™Ã­t s nÃ¡sledujÃ­cÃ­m uzlem. PlatebnÃ­ hash nemusÃ­ bÃ½t zaÅ¡ifrovÃ¡n ve vrstvÃ¡ch onion paketu, ten je znÃ¡m z jiÅ¾ uzavÅ™enÃ©ho HTLC od pÅ™edchozÃ­ho uzlu. VÃ­c smÄ›rujÃ­cÃ­ uzel (nazÃ½vanÃ½ takÃ© hop) nevÃ­ a ani nepotÅ™ebuje vÄ›dÄ›t. NevÃ­, je&hyphen;li pÅ™echozÃ­ uzel pÅ¯vodcem platby, nebo taky jen hopem. NevÃ­ ani, je&hyphen;li nÃ¡sledujÃ­cÃ­ uzel koneÄnÃ½m pÅ™Ã­jemcem platby, nebo jen dalÅ¡Ã­m hopem. NemÅ¯Å¾e to ani tuÅ¡it, neboÅ¥ paket je v kaÅ¾dÃ©m okamÅ¾iku svÃ© cesty stÃ¡le stejnÄ› velkÃ½ (pÅ™ed pÅ™edÃ¡nÃ­m dalÅ¡Ã­mu uzlu je jakoby vyfutrovÃ¡n zevnitÅ™ na konstatnÃ­ velikost). Teprve aÅ¾ ve vrstvÄ›, kterou si rozÅ¡ifruje koneÄnÃ½ uzel, se nalÃ©zÃ¡ dÅ™Ã­ve zmiÅˆovanÃ½ payment secret. KoneÄnÃ½ uzel tak mÃ¡ jistotu, Å¾e obdrÅ¾el paket sestavenÃ½ skuteÄnÃ½m pÅ¯vodnÃ­m plÃ¡tcem, neboÅ¥ jen on se payment secret dozvÄ›dÄ›l z invoce. Å½Ã¡dnÃ½ hop nemÅ¯Å¾e sestavit vlastnÃ­ paket pro nÃ¡sledujÃ­cÃ­ uzel tak, jako kdyby mÄ›l bÃ½t nÃ¡sledujÃ­cÃ­ uzel tÃ­m poslednÃ­m a tÃ­m ho odhalit jako koneÄnÃ©ho pÅ™Ã­jemce platby v pÅ™Ã­padÄ›, Å¾e by jÃ­m doopravdy byl. Dojde&hyphen;li takto platba v poÅ™Ã¡dku aÅ¾ ke svÃ©mu koneÄnÃ©mu pÅ™Ã­jemci, mÅ¯Å¾e se opaÄnou cestou vydat platebnÃ­ pÅ™edobraz vypoÅ™Ã¡dajÃ­cÃ­ uzavÅ™enÃ© HTLC, jak bylo naznaÄeno v o nich pojednÃ¡vajÃ­cÃ­m odstavci. </p>
    </article>
  </div>
  <footer>
    <div class="mail">
      <p>Sepsal <a class="warp" href="mailto:iwarp@pm.me">iWarp</a> (<a class="key" href="https://btc-slovnik.cz/pages/stuff/publickey.txt">ğŸ”‘ pubkey</a>).<br><a
        class="key" id="lit" href="https://btc-slovnik.cz/pages/literature.html">ğŸ“š OblÃ­benÃ¡ literatura</a> |
        <button onclick="dropDonate()" class="dropbtn key">âš¡ Donejt</button>
      </p>
    </div>
    <div>
      <div class="tw">
        <a class="tw" href="https://twitter.com/btcslovnik"><img src="https://btc-slovnik.cz/img/twitter.svg" height="30" alt="twitter" /></a>
        <a class="license" href="https://btc-slovnik.cz/LICENSE"><img src="https://btc-slovnik.cz/img/public80x15.png" alt="CC0" /></a>
      </div>
    </div>
    <div id="donate" class="dropdown">
      <p>PÅ™ispÄ›j mi na pivo pÅ™es LNURL:</p>
      <img class="pointer" onclick="clipboardLNURL()" src="https://btc-slovnik.cz/img/lnurl.png" alt="LNURL" />
      <p onclick="clipboardLNURL()" class="lnurl pointer">LNURL1DP68GURN8GHJ7URP0YHXYARRWDKX7ANWD94JUCM69AKXUATJD3CZ7CTSDYHHVVF0D3H82UNV9UCS5SXUCE</p>
      <a class="invoice" rel=â€nofollowâ€ href="https://pay.btcslovnik.cz/tipjar/1">Nebo mi poÅ¡li tip pÅ™es mojÃ­ lightning brÃ¡nu.</a>
    </div>
  </footer>
  <script src="https://btc-slovnik.cz/drop.js"></script>
</body>

</html>
